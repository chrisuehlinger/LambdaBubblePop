<html>
  <head>
    <title>&#955; Bubble Pop!</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

    <!-- Styles -->
    <link rel="stylesheet" href="app.css">

   <!-- Bower Components -->
    <script src="bower_components/react/react-with-addons.js"></script>
    <script src="bower_components/lodash/dist/lodash.js"></script>
    <script src="bower_components/node-uuid/uuid.js"></script>

    <!-- Line Components -->
    <script src="components/Mixins.js"></script>
    <script src="components/LineComponent.js"></script>
    <script src="components/ApplicationComponent.js"></script>
    <script src="components/FunctionNameComponent.js"></script>
    <script src="components/ListComponent.js"></script>
    <script src="components/IntComponent.js"></script>
    <script src="components/LinesComponent.js"></script>
    <script src="components/NodeComponent.js"></script>
    <script src="components/FunctionEditorComponent.js"></script>
    <script src="components/ProgramComponent.js"></script>

    <!-- AST Operations -->
    <script src="ast_transformations.js"></script>
    <script src="initial_ast.js"></script>

    <!-- Parser -->
    <script src="haskell-parser.js"></script>

    <!-- Functions -->
    <script src="functions/cons.js"></script>
    <script src="functions/plus.js"></script>
    <script src="functions/minus.js"></script>

    <!-- AST Node Types -->
    <script src="astNodeType/int.js"></script>
    <script src="astNodeType/list.js"></script>
    <script src="astNodeType/application.js"></script>
    <script src="astNodeType/functionName.js"></script>
  </head>
  <body>
    <article>
      <div id="top-section">
        <div id="title">
          <h1><span class="titleBubble">&#955;</span> Bubble Pop!</h1>
          <h2>Or, Lambda The Ultimate Bubble Wrap</h2>
          <h3>An educational toy based on <a href="https://stevekrouse.github.io/hs.js/">&#955; Lessons</a> by <a href="http://janpaulposma.nl/">Jan Paul Posma</a> and <a href="http://stevekrouse.com/">Steve Krouse</a></h3>
          <h4>Fondly mangled by <a href="https://chrisuehlinger.com/">Chris Uehlinger</a></h4>
        </div>

        <div id="introText">
          <p>
            Ever thought that LISP forms were kind of like little bubbles of computation, waiting to be popped to reveal their evaluated center? No? You will now! Click on the bubbles to pop them, pop them all to complete the computation! It's the satisfaction of popping bubble wrap, combined with the satisfaction of really elegant functional programming!
          </p>
        </div>
      </div>

      <div id="allLessons">
        <div id="mapLines"></div>
        <div id="foldrLines"></div>
        <div id="foldlLines"></div>
      </div>
      <div id="function-editor"></div>
    </article>
  </body>
  <script>
    var toggleLessonHighlight = function(e) {
      var blahs = document.getElementsByClassName(e.target.classList[0]);
      for (var i = 0; i < blahs.length; i ++){
        blah = blahs[i];
        blah.classList.toggle("lesson-highlight");
      };
    };

    React.renderComponent(
      HaskellJSProgram({defaultValue: 'map addOne [1,2,3,4,5]'}),
      document.getElementById('mapLines')
    );

    React.renderComponent(
      HaskellJSProgram({defaultValue: 'foldr plus 0 [1,2,3,4,5]'}),
      document.getElementById('foldrLines')
    );

    React.renderComponent(
      HaskellJSProgram({defaultValue: 'foldl reverseCons [] [1,2,3,4,5]'}),
      document.getElementById('foldlLines')
    );

    React.renderComponent(
      FunctionEditor({defaultFunctionDefinitions: window.initialFunctionDefinitions}),
      document.getElementById('function-editor')
    );
  </script>
</html>
